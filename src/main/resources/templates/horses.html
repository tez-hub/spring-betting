<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
	<head>
	  	<meta charset="UTF-8"></meta>
		<title>Add Horses</title>
	    <link rel="stylesheet" href="styles/tabs.css"></link>
	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"></link>
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" 
		  	  integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"></link>
  	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.1.1/jquery-confirm.min.css"></link>
	</head>
	
	<body>
		<div th:replace="fragments/header :: header">&nbsp;</div>

		<div class="container">
			<div class="center-content">
				<p id="horse-lead" class="lead">Horses</p>
				<form class="form" id="horse-form" th:action="@{/races/add}" th:method="post" th:object="${wrapper}">
					<div th:each="horse, stat: ${wrapper.horseList}">
						<div class="form-inline row">
							<label for="number" class="sr-only">Number:</label>
							<input type="text" class="form-control mb-2 mr-sm mb-sm-0" th:name="number" th:id="number" th:value="${horse.number}" th:field="*{horseList[__${stat.index}__].number}" th:disabled="true"></input> 
							<label for="name" class="sr-only">Name:</label>
							<input type="text" class="form-control mb-2 mr-sm mb-sm-0" th:name="name" th:id="name" placeholder="name" th:field="*{horseList[__${stat.index}__].name}" th:autofocus="true"></input> 
						</div>
					</div>
					<input type="hidden" th:name="track" th:id="track" th:field="*{race.track}" th:value="${race.track}"></input>
					<input type="hidden" th:name="time" th:id="time" th:field="*{race.time}" th:value="${race.time}"></input>
					<input type="hidden" th:name="runners" th:id="runners" th:field="*{race.runners}" th:value="${race.runners}"></input>
					<input type="hidden" th:name="date" th:id="date" th:field="*{race.date}" th:value="${race.date}"></input>
					<button id="horse-button" class="btn btn-primary">Add Horses</button>
				</form>
			</div>
		</div>
	<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.1.1/jquery-confirm.min.js"></script>
	<script src="/scripts/validation.js"></script>
	</body>
</html>